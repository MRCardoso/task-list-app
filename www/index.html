<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <link rel="manifest" href="manifest.json">

    <!-- un-comment this code to enable service worker
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => console.log('service worker installed'))
          .catch(err => console.log('Error', err));
      }
    </script>-->

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->
    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <!-- path to ionic/angularjs js -->
    <!--<script src="lib/ionic-ratings/src/ionic-ratings.js"></script>-->

    <!-- ngCordova -->
    <script src="lib/ngCordova/dist/ng-cordova.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <script src="js/label.string.js"></script>
    <!--Models-->
    <script src="js/models/Task.js"></script>
    <!--Controllers-->
    <script src="js/controllers/login.controller.js"></script>
    <script src="js/controllers/task.controller.js"></script>
    <script src="js/controllers/help.controller.js"></script>
    <!--Directives-->
    <script src="js/directives/label.directive.js"></script>
  </head>
  <body ng-app="starter">

    <div>
      <ion-nav-view></ion-nav-view>      
    </div>
    <!--<ion-pane ng-controller="TaskController">-->
      <!--<ion-header-bar class="bar-balanced">
          <label class="toggle toggle-assertive">
            <input type="checkbox" ng-model="showRemove">
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
          <h1 class="title">Tasks list</h1>
          <a class="button button-small" ng-click="openModal()">
            <i class="ion-plus"></i>
          </a>
      </ion-header-bar>
      
      <ion-view view-title="Home">
        <ion-content>          
          <ion-list show-delete="showRemove">
            <ion-item ng-repeat="item in items" ng-show="renderLine(item.status)">
              <div class="row">
                <div class="col col-90">
                  <ion-delete-button class="ion-minus-circled" ng-click="remove(item,$event)"></ion-delete-button>
                  <h3 ng-bind="item.name"></h4>
                  <span class="small-text">
                    (<i ng-bind="item.start_date | date:'dd/MM/yyyy'"></i>-
                    <i ng-bind="item.end_date | date:'dd/MM/yyyy'"></i>)
                  </span>                  
                  <ion-option-button class="ion-edit" ng-click="openModal(item)"></ion-option-button>
                </div>
                <div class="col col-10">                  
                  <button class="button button-small button-balanced button-outline" ng-click="finish(item)">
                    <i class="ion ion-checkmark" ng-show="item.status"></i>
                  </button>
                </div>
              </div>
            </ion-item>
          </ion-list>        
        </ion-content>
      </ion-view>

      <ion-footer-bar class="bar-balanced">
        <div class="col col-80"></div>
        <div class="col col-20">
          <label class="toggle">
            <input type="checkbox" ng-model="showFinish">
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
        </div>
      </ion-footer-bar>-->

      <script id="my-modal.html" type="text/ng-template">
        <ion-modal-view>
          <ion-header-bar class="bar-positive">
            <h1 class="title">New Task</h1>
            <a class="button button-small" ng-click="closeModal()">
              <i class="ion-close"></i>
            </a>
          </ion-header-bar>
          <ion-content>            
            <form ng-submit="save()" class="list">
              <label class="item item-input" ng-class="{ 'has-error' : formData.name=='' || formData.name==null, 'valid-lr': formData.name.length>0}">
                <span class="input-label">Name</span>
                <input type="text" placeholder="Task Name" ng-model="formData.name" required>                
              </label>
              <label class="item item-input" ng-class="{ 'has-error' : formData.start_date=='' || formData.start_date==null, 'valid-lr': formData.start_date.length>0}">
                <span class="input-label">Start</span>
                <input type="date" ng-model="formData.start_date" required>
              </label>
              <label class="item item-input">
                <span class="input-label">End</span>
                <input type="date" ng-model="formData.end_date">
              </label>
              <label class="item item-input">
                <span class="input-label">Status</span>
                <label class="toggle">
                  <input type="checkbox" ng-model="formData.status">
                  <div class="track">
                    <div class="handle"></div>
                  </div>
                </label>
              </label>
              <button type="submit" class="button button-block button-positive" ng-disabled="validate()">
                Salvar
              </button>
            </form>            
          </ion-content>
        </ion-modal-view>
      </script>
      
    <!--</ion-pane>-->
  </body>
</html>
